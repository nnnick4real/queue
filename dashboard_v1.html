<!DOCTYPE html>
<html lang="zh-Hant">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tesla Delivery Board 1080p - v116 Full Sentence</title>
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-database-compat.js"></script>
    <style>
        :root {
            /* Tesla ÂÆòÊñπÈ¢®Ê†ºËâ≤Á•® */
            --bg-dark: #000000;
            --card-bg: #181818;
            --text-main: #FFFFFF;
            --text-secondary: #A0A0A0;
            --tesla-red: #E82127;
            --tesla-blue: #3E6AE1;
            --border: #333333;
            /* ÁãÄÊÖãÈ°èËâ≤ */
            --status-active: #3E6AE1;
            --status-pending: #6B7280;
            --status-done: #333333;
            --urgency-high: #E82127;
            --urgency-med: #F59E0B;
            /* Ë£ùÈ£æÁ∑öÈ°èËâ≤ */
            --accent: #FCD34D;
        }

        * {
            box-sizing: border-box;
        }

        /* --- ÂãïÁï´ÂÆöÁæ© --- */
        @keyframes cinematicBlurIn {
            0% {
                opacity: 0;
                filter: blur(12px);
                transform: scale(0.96) translateY(8px);
            }

            60% {
                opacity: 1;
            }

            100% {
                opacity: 1;
                filter: blur(0);
                transform: scale(1) translateY(0);
            }
        }

        @keyframes aurora-bg {
            0% {
                background-position: 0% 50%;
            }

            50% {
                background-position: 100% 50%;
            }

            100% {
                background-position: 0% 50%;
            }
        }

        @keyframes pulse-blue {
            0% {
                box-shadow: 0 0 0 0 rgba(62, 106, 225, 0.6);
            }

            70% {
                box-shadow: 0 0 0 6px rgba(62, 106, 225, 0);
            }

            100% {
                box-shadow: 0 0 0 0 rgba(62, 106, 225, 0);
            }
        }

        @keyframes pulse {

            0%,
            100% {
                opacity: 1;
            }

            50% {
                opacity: 0.4;
            }
        }

        body {
            background-color: var(--bg-dark);
            color: var(--text-main);
            /* Âä†ÂÖ• Malgun Gothic Á¢∫‰øùÈüìÊñáÈ°ØÁ§∫ÊºÇ‰∫Æ */
            font-family: "Microsoft JhengHei", "Malgun Gothic", sans-serif;
            margin: 0;
            width: 1920px;
            height: 1080px;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            letter-spacing: 0.5px;
            background: radial-gradient(circle at 50% 50%, #1a1a1a 0%, #000000 90%);
        }

        /* --- Main Layout --- */
        main {
            width: 100%;
            height: 100%;
            display: grid;
            grid-template-columns: 73fr 27fr;
            gap: 20px;
            padding: 20px 30px;
        }

        /* --- Panels --- */
        .left-panel {
            display: flex;
            flex-direction: column;
            gap: 20px;
            height: 100%;
            overflow: hidden;
        }

        .right-panel {
            display: flex;
            flex-direction: column;
            gap: 20px;
            height: 100%;
            overflow: hidden;
        }

        /* --- Header --- */
        .local-header {
            background: var(--card-bg);
            padding: 0 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 10;
            height: 50px;
            flex-shrink: 0;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);
            border: 1px solid var(--border);
            border-radius: 12px;
        }

        .header-left {
            font-size: 28px;
            font-weight: 700;
            color: #fff;
            display: flex;
            align-items: center;
            gap: 12px;
            letter-spacing: 1px;
        }

        /* Ê®ôÈ°åÊñáÂ≠ó */
        #header-title {
            color: #ffffff;
        }

        .header-right {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .header-clock {
            font-size: 22px;
            font-weight: 900;
            color: #fff;
            font-family: monospace;
            letter-spacing: 1px;
        }

        /* Âè´ËôüÈÄ≤Â∫¶ */
        .queue-progress {
            display: flex;
            align-items: center;
            gap: 16px;
            font-size: 20px;
            font-weight: 700;
            color: #fff;
        }

        .queue-progress .qp-label {
            color: #9CA3AF;
            font-weight: 500;
            font-size: 18px;
        }

        .queue-progress .qp-number {
            color: var(--tesla-red);
            font-size: 28px;
            font-weight: 900;
            font-family: monospace;
            letter-spacing: 1px;
            min-width: 60px;
            text-align: center;
            transition: all 0.3s ease;
        }

        .queue-progress .qp-divider {
            color: #555;
            font-weight: 300;
        }

        .queue-progress .qp-waiting {
            color: #9CA3AF;
            font-size: 20px;
        }

        .queue-progress .qp-waiting-num {
            color: var(--tesla-blue);
            font-weight: 900;
        }

        .queue-progress .qp-msg {
            color: #FFFFFF;
            font-size: 19px;
            font-weight: 600;
            letter-spacing: 0.5px;
        }



        @keyframes queueFlip {
            0% {
                opacity: 0;
                transform: translateY(-8px);
            }

            100% {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .qp-flip {
            animation: queueFlip 0.4s ease;
        }

        .queue-offline {
            color: #666;
            font-size: 16px;
            font-weight: 400;
        }

        .btn-update {
            background: transparent;
            color: var(--text-secondary);
            border: 1px solid #444;
            padding: 4px 10px;
            border-radius: 6px;
            cursor: pointer;
            font-weight: bold;
            font-size: 20px;
            transition: 0.3s;
        }

        .btn-update:hover {
            border-color: var(--text-main);
            color: var(--text-main);
        }

        /* --- Card Common --- */
        .card {
            background: var(--card-bg);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 20px;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            position: relative;
            box-shadow: 0 10px 20px -5px rgba(0, 0, 0, 0.4);
        }

        .card-title {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 15px;
            color: #9CA3AF;
            border-left: 6px solid var(--accent);
            padding-left: 12px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-shrink: 0;
            letter-spacing: 0;
        }

        .session-tag {
            background: #3E6AE1;
            color: white;
            padding: 5px 20px;
            border-radius: 25px;
            font-size: 24px;
            font-weight: bold;
            margin-right: 15px;
            letter-spacing: 1px;
        }

        .page-indicator {
            background: #4B5563;
            color: white;
            padding: 4px 12px;
            border-radius: 8px;
            font-size: 16px;
        }

        /* --- List Section --- */
        #section-list {
            flex: 64;
        }

        #parking-container {
            flex: 1;
            display: flex;
            gap: 20px;
            overflow: hidden;
            position: relative;
            padding: 0 20px 20px 20px;
        }

        .parking-column {
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        table.p-table {
            width: 100%;
            height: 100%;
            border-collapse: separate;
            border-spacing: 0 4px;
            table-layout: fixed;
        }

        table.p-table th {
            background: #374151;
            color: #fff;
            padding: 0;
            border: 1px solid #4B5563;
            font-size: 20px;
            height: 45px;
            text-align: center;
            font-weight: normal;
        }

        table.p-table th:nth-child(2) {
            text-align: center;
        }

        table.p-table td {
            border: 1px solid #4B5563;
            padding: 0 12px;
            height: auto;
            vertical-align: middle;
            font-size: 26px;
            background: #222;
            border-radius: 6px;
        }

        .cell-spot {
            text-align: center;
            font-weight: 900;
            color: var(--accent);
            width: 70px;
            font-size: 28px;
            background: rgba(0, 0, 0, 0.2);
        }

        .cell-name {
            color: #fff;
            font-weight: 700;
            padding-left: 0;
            text-align: center;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        /* ÂàóË°®ÂãïÁï´ */
        table.p-table tr {
            background: transparent;
            opacity: 0;
            animation: cinematicBlurIn 0.9s cubic-bezier(0.22, 0.61, 0.36, 1) forwards;
        }

        table.p-table tr:nth-child(1) {
            animation-delay: 0.05s;
        }

        table.p-table tr:nth-child(2) {
            animation-delay: 0.1s;
        }

        table.p-table tr:nth-child(3) {
            animation-delay: 0.15s;
        }

        table.p-table tr:nth-child(4) {
            animation-delay: 0.2s;
        }

        table.p-table tr:nth-child(5) {
            animation-delay: 0.25s;
        }

        table.p-table tr:nth-child(6) {
            animation-delay: 0.3s;
        }

        table.p-table tr:nth-child(7) {
            animation-delay: 0.35s;
        }

        table.p-table tr:nth-child(8) {
            animation-delay: 0.4s;
        }

        table.p-table tr:nth-child(9) {
            animation-delay: 0.45s;
        }

        table.p-table tr:nth-child(10) {
            animation-delay: 0.5s;
        }

        /* --- Stock Section --- */
        #section-stock {
            flex: 36;
            display: flex;
            flex-direction: column;
        }

        #stock-grid {
            flex: 1;
            display: grid;
            grid-template-columns: 1fr 1fr;
            grid-template-rows: 1fr 1fr 1fr;
            gap: 12px;
            padding-top: 5px;
            overflow: hidden;
        }

        .stock-item {
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid #4B5563;
            border-radius: 8px;
            padding: 0 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            height: 100%;
        }

        .product-info {
            display: flex;
            flex-direction: column;
            justify-content: center;
            flex: 1;
            overflow: hidden;
            align-items: flex-start;
        }

        .product-name {
            font-size: 1.1rem;
            color: #E5E7EB;
            font-weight: 500;
            line-height: 1.3;
            margin-bottom: 5px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            max-width: 100%;
        }

        .product-price {
            font-size: 0.95rem;
            display: flex;
            align-items: baseline;
            gap: 12px;
            white-space: nowrap;
        }

        .price-orig {
            color: #9CA3AF;
            text-decoration: line-through;
            font-size: 0.85em;
        }

        .price-promo {
            color: var(--tesla-red);
            font-weight: bold;
            font-size: 1.3em;
            text-shadow: 0 0 10px rgba(239, 68, 68, 0.3);
        }

        .stock-status {
            text-align: right;
            min-width: 90px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: flex-end;
        }

        .stock-num {
            font-family: "Microsoft JhengHei", sans-serif;
            font-size: 2rem;
            font-weight: 900;
            line-height: 1;
            margin-bottom: 2px;
            color: #fff;
            font-variant-numeric: tabular-nums;
        }

        .stock-label {
            font-size: 0.8rem;
            color: #9CA3AF;
        }

        .stock-high {
            color: #fff;
        }

        .stock-med {
            color: var(--urgency-med);
        }

        .stock-low {
            color: var(--urgency-high);
            animation: pulse 2s infinite;
        }

        /* --- Schedule Table --- */
        #section-schedule {
            flex: 0 0 auto;
        }

        .schedule-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 10px;
            table-layout: fixed;
        }

        .schedule-table th:nth-child(1) {
            width: 21%;
            text-align: left;
            color: #9CA3AF;
            padding: 10px 12px;
            border-bottom: 1px solid #4B5563;
            font-size: 18px;
        }

        .schedule-table th:nth-child(2) {
            width: 49%;
            text-align: left;
            color: #9CA3AF;
            padding: 10px 12px;
            border-bottom: 1px solid #4B5563;
            font-size: 18px;
        }

        .schedule-table th:nth-child(3) {
            width: 30%;
            text-align: right;
            color: #9CA3AF;
            padding: 10px 12px;
            border-bottom: 1px solid #4B5563;
            font-size: 18px;
        }

        .schedule-table td {
            padding: 12px 12px;
            border-bottom: 1px solid #374151;
            font-size: 20px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            transition: all 0.5s ease;
        }

        .schedule-table tr {
            opacity: 0;
            animation: cinematicBlurIn 0.9s cubic-bezier(0.22, 0.61, 0.36, 1) forwards;
        }

        /* ÈöéÊ¢ØÂª∂ÈÅ≤ */
        .schedule-table tr:nth-child(1) {
            animation-delay: 0.1s;
        }

        .schedule-table tr:nth-child(2) {
            animation-delay: 0.2s;
        }

        .schedule-table tr:nth-child(3) {
            animation-delay: 0.3s;
        }

        .schedule-table tr:nth-child(4) {
            animation-delay: 0.4s;
        }

        .schedule-table tr:nth-child(5) {
            animation-delay: 0.5s;
        }

        .status-dot {
            height: 12px;
            width: 12px;
            border-radius: 50%;
            display: inline-block;
            margin-right: 10px;
        }

        .row-done {
            color: #555;
            opacity: 0.5;
        }

        .row-pending {
            color: #666;
        }

        .row-active td {
            background: linear-gradient(90deg, rgba(62, 106, 225, 0.1) 0%, rgba(62, 106, 225, 0.25) 50%, rgba(62, 106, 225, 0.1) 100%);
            background-size: 200% 100%;
            animation: aurora-bg 4s ease-in-out infinite;
            border-left: 4px solid var(--status-active);
            font-weight: bold;
        }

        .row-active .status-dot {
            background: var(--status-active) !important;
            animation: pulse-blue 2s infinite ease-in-out;
        }

        .row-upcoming {
            color: var(--urgency-med);
            font-weight: bold;
            background: transparent !important;
        }

        .row-upcoming .status-dot {
            background: var(--urgency-med) !important;
        }

        #schedule-subtitle {
            font-size: 20px;
            color: var(--text-secondary);
            font-weight: normal;
        }

        /* --- Ads --- */
        #section-ads {
            flex: 1;
            padding: 0;
        }

        #ad-container {
            flex: 1;
            position: relative;
            width: 100%;
            background: #000;
        }

        #ad-image,
        #ad-video {
            width: 100%;
            height: 100%;
            object-fit: cover;
            opacity: 0;
            transition: opacity 1s ease-in-out;
            position: absolute;
            top: 0;
            left: 0;
        }

        #ad-caption {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            background: transparent;
            color: #fff;
            padding: 30px;
            text-align: center;
            z-index: 5;
        }

        .ad-title-text {
            font-size: 36px;
            font-weight: bold;
            color: #ffffff;
            margin-bottom: 12px;
            text-shadow: 0 2px 5px black;
        }

        .ad-desc-text {
            font-size: 24px;
            color: #eee;
            text-shadow: 0 1px 3px black;
        }

        /* --- Map --- */
        .map-container {
            position: relative;
            width: 100%;
            height: 100%;
            background: #000;
            border-radius: 0;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .map-image {
            width: 100%;
            height: 100%;
            object-fit: contain;
            display: block;
            opacity: 0.9;
        }

        .tech-arrow-group {
            position: absolute;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10;
            transform-origin: center center;
        }

        .chevron {
            display: inline-block;
            width: 12px;
            height: 12px;
            border-top: 3px solid #fff;
            border-right: 3px solid #fff;
            margin: 0 2px;
            opacity: 0;
            filter: drop-shadow(0 0 4px rgba(255, 255, 255, 0.8));
        }

        @keyframes flowPulse {
            0% {
                opacity: 0;
                transform: rotate(45deg) scale(0.8);
            }

            30% {
                opacity: 1;
                transform: rotate(45deg) scale(1.1);
                border-color: #fff;
            }

            60% {
                opacity: 0;
                transform: rotate(45deg) scale(0.8);
            }

            100% {
                opacity: 0;
            }
        }

        .elev-turn .c1 {
            animation: flowPulse 3s infinite;
            animation-delay: 0s;
        }

        .elev-turn .c2 {
            animation: flowPulse 3s infinite;
            animation-delay: 0.15s;
        }

        .elev-turn .c3 {
            animation: flowPulse 3s infinite;
            animation-delay: 0.3s;
        }

        .elev-up .c1 {
            animation: flowPulse 3s infinite;
            animation-delay: 0.6s;
        }

        .elev-up .c2 {
            animation: flowPulse 3s infinite;
            animation-delay: 0.75s;
        }

        .elev-up .c3 {
            animation: flowPulse 3s infinite;
            animation-delay: 0.9s;
        }

        .tech-arrow-group:not(.elev-turn):not(.elev-up) .c1 {
            animation: flowPulse 3s infinite;
            animation-delay: 1.5s;
        }

        .tech-arrow-group:not(.elev-turn):not(.elev-up) .c2 {
            animation: flowPulse 3s infinite;
            animation-delay: 1.65s;
        }

        .tech-arrow-group:not(.elev-turn):not(.elev-up) .c3 {
            animation: flowPulse 3s infinite;
            animation-delay: 1.8s;
        }

        .elev-up {
            top: 62%;
            left: 54%;
            transform: rotate(-90deg);
        }

        .elev-turn {
            top: 69.5%;
            left: 57%;
            transform: rotate(180deg);
        }

        .bot-1 {
            top: 78.5%;
            left: 60%;
        }

        .bot-2 {
            top: 78.5%;
            left: 77%;
        }

        .mid-1 {
            top: 49%;
            left: 60%;
        }

        .mid-2 {
            top: 49%;
            left: 77%;
        }

        .top-1 {
            top: 19.5%;
            left: 77%;
            transform: rotate(180deg);
        }

        .top-2 {
            top: 19.5%;
            left: 60%;
            transform: rotate(180deg);
        }

        .right-1 {
            top: 63%;
            left: 86.5%;
            transform: rotate(-90deg);
        }

        .right-2 {
            top: 33%;
            left: 86.5%;
            transform: rotate(-90deg);
        }

        /* --- Modal --- */
        #modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            z-index: 100;
            justify-content: center;
            align-items: center;
        }

        #modal-box {
            background: #1F2937;
            padding: 30px;
            border-radius: 12px;
            width: 1600px;
            height: 800px;
            border: 1px solid #333;
            display: flex;
            flex-direction: row;
            gap: 40px;
            box-shadow: 0 30px 60px rgba(0, 0, 0, 0.5);
        }

        .modal-col {
            flex: 1;
            display: flex;
            flex-direction: column;
            min-width: 400px;
        }

        .modal-col h3 {
            margin-top: 0;
            color: #fff;
            border-bottom: 1px solid #333;
            padding-bottom: 15px;
            font-size: 24px;
            font-weight: 500;
        }

        .modal-col p {
            color: #999;
            font-size: 16px;
            margin: 10px 0;
        }

        textarea {
            width: 100%;
            flex: 1;
            background: #000;
            color: #ccc;
            border: 1px solid #333;
            padding: 20px;
            font-family: monospace;
            font-size: 18px;
            resize: none;
            line-height: 1.5;
            outline: none;
            border-radius: 8px;
        }

        textarea:focus {
            border-color: var(--accent);
        }

        .modal-actions {
            margin-top: 20px;
            text-align: right;
        }

        .btn-save {
            background: #10B981;
            color: white;
            border: none;
            padding: 15px 40px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 20px;
            font-weight: bold;
        }

        .btn-cancel {
            background: #6B7280;
            color: white;
            border: none;
            padding: 15px 40px;
            border-radius: 8px;
            cursor: pointer;
            margin-right: 20px;
            font-size: 20px;
        }
    </style>
</head>

<body>
    <main>
        <div class="left-panel">
            <div class="local-header">
                <div class="header-left">
                    <span id="header-title">Tesla Âè∞ÂåóÂ†§È†Ç‰∫§‰ªò‰∏≠ÂøÉ</span>
                </div>
                <div class="header-right">
                    <div class="queue-progress" id="queue-progress">
                        <span class="qp-label">ÁõÆÂâçÂè´Ëôü</span>
                        <span class="qp-number" id="qp-current">---</span>
                        <span class="qp-divider" id="qp-divider">|</span>
                        <span class="qp-waiting" id="qp-waiting-wrap">Á≠âÂæÖ <span class="qp-waiting-num"
                                id="qp-waiting">-</span> ‰∫∫</span>
                        <span class="qp-msg" id="qp-msg" style="display:none;"></span>
                    </div>
                    <button class="btn-update" onclick="openModal()">‚öôÔ∏è</button>
                </div>
            </div>
            <section id="section-list" class="card">
                <div class="card-title">
                    <span id="list-title-text">‰∫§ËªäÂ†±Âà∞ÂêçÂñÆ</span>
                    <div>
                        <span id="current-session-tag" class="session-tag" style="display:none">--:--</span>
                        <span id="page-indicator" class="page-indicator" style="display:none">P1</span>
                    </div>
                </div>
                <div id="parking-container">
                    <div style="padding:40px; color:#aaa; font-size:24px;">Ë´ãÈªûÊìäË®≠ÂÆöÊåâÈàïÂåØÂÖ•Ë≥áÊñô</div>
                </div>
            </section>
            <section id="section-stock" class="card">
                <div class="card-title">
                    <span>ÁèæÂ†¥ÈÖç‰ª∂ÈôêÈáè‰æõÊáâ</span>
                    <span
                        style="font-size:16px; color:var(--text-secondary); font-weight:normal; letter-spacing: 1px;">Êï∏ÈáèÊúâÈôê
                        ÂîÆÂÆå‰∏çË£ú</span>
                </div>
                <div id="stock-grid"></div>
            </section>
        </div>
        <div class="right-panel">
            <section id="section-schedule" class="card">
                <div class="card-title">
                    <span id="schedule-title" style="font-size:24px;">‰ªäÊó•Ê¥ªÂãï</span>
                    <div style="display:flex; align-items:center; gap:16px;">
                        <div class="header-clock" id="time-display" style="font-size:18px;">2025/01/01 00:00:00</div>
                    </div>
                </div>
                <table class="schedule-table">
                    <thead>
                        <tr>
                            <th>ÊôÇÈñì</th>
                            <th>È†ÖÁõÆ</th>
                            <th style="text-align:right;">ÁãÄÊÖã</th>
                        </tr>
                    </thead>
                    <tbody id="schedule-body"></tbody>
                </table>
            </section>
            <section id="section-ads" class="card">
                <div id="ad-container">
                    <img id="ad-image" style="opacity:0" src="" alt="Ad">
                    <video id="ad-video" style="opacity:0" muted playsinline></video>
                    <div id="ad-caption">
                        <div id="ad-title" class="ad-title-text"></div>
                        <div id="ad-desc" class="ad-desc-text"></div>
                    </div>
                </div>
            </section>
        </div>
    </main>
    <div id="modal-overlay">
        <div id="modal-box">
            <div class="modal-col">
                <h3>1. ‰∫§ËªäÂêçÂñÆ</h3>
                <p>Excel Ë§áË£Ω (ÊôÇÈñì/Ëªä‰Ωç/ÂßìÂêç) Ë≤º‰∏äÔºö</p>
                <textarea id="paste-area-list" placeholder="10:00 1 ÁéãÂ§ßÊòé..."></textarea>
            </div>
            <div class="modal-col">
                <h3>2. ÈÖç‰ª∂Â∫´Â≠ò</h3>
                <p>ÂìÅÂêç / Êï∏Èáè (Áî® Tab ÊàñÁ©∫Ê†ºÂàÜÈöî)Ôºö</p>
                <textarea id="paste-area-stock"></textarea>
                <div class="modal-actions">
                    <button class="btn-cancel" onclick="closeModal()">ÂèñÊ∂à</button>
                    <button class="btn-save" onclick="saveData()">üíæ ‰øùÂ≠òË®≠ÂÆö</button>
                </div>
            </div>
        </div>
    </div>
    <script>
        // ‚ïê‚ïê‚ïê Firebase Ë®≠ÂÆö ‚ïê‚ïê‚ïê
        const firebaseConfig = {
            apiKey: "AIzaSyCZzriWUnBIPKd9MuiJd5Ym0T7wKit9ul4",
            authDomain: "new-tesla-queue.firebaseapp.com",
            databaseURL: "https://new-tesla-queue-default-rtdb.asia-southeast1.firebasedatabase.app",
            projectId: "new-tesla-queue",
            storageBucket: "new-tesla-queue.firebasestorage.app",
            messagingSenderId: "612392646704",
            appId: "1:612392646704:web:667dd0784c72af409695f5"
        };
        let fbApp = null;
        let fbDb = null;
        let fbBoardRef = null;
        let fbQueueRef = null;
        let firebaseReady = false;

        const MAP_IMAGE_URL = 'b4_map.png';
        let allData = [];
        let currentSessionData = [];
        let currentPage = 0;
        const ITEMS_PER_PAGE = 30;
        let lastScheduleHTML = "";
        const priceMap = {
            "Model 3 ÁÖ•Êñ∞ÁâàÂÖ®Â§©ÂÄôÂú∞Â¢ä 4 ‰ª∂ÁµÑ": { orig: "14,060", promo: "11,951" },
            "Model 3 ÁÖ•Êñ∞ÁâàÊäóÊõ¨ 2 ‰ª∂ÁµÑ": { orig: "6,735", promo: "5,725" },
            "ÂÖ®Êñ∞ Model Y ÂÖ®Â§©ÂÄôÂú∞Â¢ä 4 ‰ª∂ÁµÑ": { orig: "20,000", promo: "17,000" },
            "ÂÖ®Êñ∞ Model Y ÊäóÊõ¨ 2 ‰ª∂ÁµÑ": { orig: "5,780", promo: "4,913" },
            "Á¨¨‰∫å‰ª£ ÊóÖË°åÁî®Type 2 ÂÖÖÈõªÂ∫ßÂ•ó‰ª∂": { orig: "10,800", promo: "9,500" },
            "Model 3/Y ËøéË≥ìÁáà": { orig: null, promo: "1,000" }
        };
        let stockData = [
            { name: "Model 3 ÁÖ•Êñ∞ÁâàÂÖ®Â§©ÂÄôÂú∞Â¢ä 4 ‰ª∂ÁµÑ", count: 8 },
            { name: "Model 3 ÁÖ•Êñ∞ÁâàÊäóÊõ¨ 2 ‰ª∂ÁµÑ", count: 3 },
            { name: "ÂÖ®Êñ∞ Model Y ÂÖ®Â§©ÂÄôÂú∞Â¢ä 4 ‰ª∂ÁµÑ", count: 12 },
            { name: "ÂÖ®Êñ∞ Model Y ÊäóÊõ¨ 2 ‰ª∂ÁµÑ", count: 5 },
            { name: "Á¨¨‰∫å‰ª£ ÊóÖË°åÁî®Type 2 ÂÖÖÈõªÂ∫ßÂ•ó‰ª∂", count: 2 },
            { name: "Model 3/Y ËøéË≥ìÁáà", count: 15 }
        ];
        const adSlides = [
            { type: 'image', image: 'ÈöîÁÜ±Á¥ô1.png', title: "", desc: "" },
            { type: 'image', image: 'ÈöîÁÜ±Á¥ô12.png', title: "", desc: "" },
            { type: 'image', image: 'ÈççËÜú1.png', title: "", desc: "" },
            { type: 'video', image: 'ÈÖç‰ª∂1.mp4', title: "", desc: "" },
            { type: 'image', image: 'ÈÖç‰ª∂1.png', title: "", desc: "" },
            { type: 'image', image: 'ÈÖç‰ª∂2.png', title: "", desc: "" },
            { type: 'image', image: 'Âª∂‰øù1.png', title: "", desc: "" },
            {
                type: 'image',
                image: 'IG.png',
                title: "@TESLA.TAIWAN",
                desc: "ËøΩËπ§ Tesla Taiwan Instagram<br>ÊéåÊè°ÊúÄÊñ∞Ëªä‰∏ªË≥áË®ä",
                invert: true
            },
            {
                type: 'image',
                image: 'LINE.png',
                title: "@teslatw",
                desc: "Âä†ÂÖ• LINE ÂÆòÊñπÂ∏≥Ëôü<br>Áç≤ÂèñÂ∞àÂ±¨Ëªä‰∏ªË≥áË®ä",
                invert: true
            }
        ];
        let currentAdIndex = -1;
        let adTimeout;
        function addSpace(str) {
            if (!str) return "";
            str = str.toString();
            str = str.replace(/([\u4e00-\u9fa5])([a-zA-Z0-9])/g, '$1 $2');
            str = str.replace(/([a-zA-Z0-9])([\u4e00-\u9fa5])/g, '$1 $2');
            return str;
        }
        window.onload = () => {
            updateClock(); setInterval(updateClock, 1000);
            // ÂàùÂßãÂåñ Firebase
            initFirebase();
            // ÂÖàÂæû LocalStorage ËºâÂÖ•ÔºàfallbackÔºâ
            try {
                const savedList = localStorage.getItem('tesla_full_data_v116');
                if (savedList) { allData = JSON.parse(savedList); refreshDisplay(); }
                const savedStock = localStorage.getItem('tesla_stock_data_v116');
                if (savedStock) { stockData = JSON.parse(savedStock); }
            } catch (e) { console.log("Data reset"); }
            renderStock();
            setInterval(refreshDisplay, 10000);
            setInterval(rotatePage, 10000);
            updateSchedule(); setInterval(updateSchedule, 1000);
            nextAd();
        };

        // ‚ïê‚ïê‚ïê Firebase ÂàùÂßãÂåñ ‚ïê‚ïê‚ïê
        function initFirebase() {
            try {
                fbApp = firebase.initializeApp(firebaseConfig);
                fbDb = firebase.database();
                fbBoardRef = fbDb.ref('board');
                fbQueueRef = fbDb.ref('queue');
                firebaseReady = true;
                console.log('Firebase connected');
                // Áõ£ËÅΩÂè´ËôüÈÄ≤Â∫¶ (Phase 2)
                fbQueueRef.on('value', (snap) => {
                    const data = snap.val() || {};
                    const calledUpTo = data.calledUpTo || 0;
                    const nextTicket = data.nextTicket || 1;
                    const total = nextTicket - 1;
                    const currentCallMode = data.callMode || 'batch';
                    updateQueueDisplay(calledUpTo, total, currentCallMode);
                });
                // Áõ£ËÅΩ‰∫§ËªäÂêçÂñÆ (Phase 3)
                fbBoardRef.child('deliveryList').on('value', (snap) => {
                    const text = snap.val();
                    if (text && typeof text === 'string') {
                        const lines = text.split('\n');
                        const parsedData = [];
                        lines.forEach(line => {
                            const parts = line.split('\t');
                            if (parts.length >= 2) parsedData.push({ time: parts[0].trim(), spot: parts[1].trim(), name: parts[2] ? parts[2].trim() : "" });
                        });
                        if (parsedData.length > 0) {
                            allData = parsedData;
                            localStorage.setItem('tesla_full_data_v116', JSON.stringify(allData));
                            refreshDisplay();
                        }
                    }
                });
                // Áõ£ËÅΩÈÖç‰ª∂Â∫´Â≠ò (Phase 3)
                fbBoardRef.child('stockList').on('value', (snap) => {
                    const text = snap.val();
                    if (text && typeof text === 'string') {
                        const lines = text.split('\n');
                        const newStock = [];
                        lines.forEach(line => {
                            const parts = line.split(/\t/);
                            if (parts.length >= 2) { newStock.push({ name: parts[0].trim(), count: parseInt(parts[1]) || 0 }); }
                        });
                        if (newStock.length > 0) {
                            stockData = newStock;
                            localStorage.setItem('tesla_stock_data_v116', JSON.stringify(stockData));
                            renderStock();
                        }
                    }
                });
            } catch (e) {
                console.log('Firebase init failed:', e);
                document.getElementById('qp-current').textContent = '---';
                document.getElementById('qp-waiting').textContent = '-';
            }
        }

        // ‚ïê‚ïê‚ïê Âè´ËôüÈÄ≤Â∫¶È°ØÁ§∫ ‚ïê‚ïê‚ïê
        let prevQueueNum = -1;
        function updateQueueDisplay(calledUpTo, total, mode) {
            const numEl = document.getElementById('qp-current');
            const waitWrap = document.getElementById('qp-waiting-wrap');
            const waitEl = document.getElementById('qp-waiting');
            const divider = document.getElementById('qp-divider');
            const msgEl = document.getElementById('qp-msg');
            const isBatch = mode === 'batch';

            // === Êõ¥Êñ∞Âè´ËôüÈ°ØÁ§∫ ===
            if (calledUpTo !== prevQueueNum) {
                numEl.classList.remove('qp-flip');
                void numEl.offsetWidth;

                if (calledUpTo === 0) {
                    numEl.textContent = 'Â∞öÊú™Âè´Ëôü';
                    numEl.style.fontSize = '20px';
                    numEl.style.color = '#9CA3AF';
                } else if (isBatch) {
                    numEl.textContent = 'Á¨¨ ' + calledUpTo + ' Ê¢ØÊ¨°';
                    numEl.style.fontSize = '22px';
                    numEl.style.color = 'var(--tesla-red)';
                } else {
                    // ËôüÁ¢ºÊ®°Âºè
                    const from = (prevQueueNum >= 0 && prevQueueNum > 0) ? prevQueueNum + 1 : 1;
                    const to = calledUpTo;
                    if (to > 0 && from < to) {
                        numEl.textContent = '#' + String(from).padStart(3, '0') + '~' + String(to).padStart(3, '0');
                    } else {
                        numEl.textContent = '#' + String(to).padStart(3, '0');
                    }
                    numEl.style.fontSize = '28px';
                    numEl.style.color = 'var(--tesla-red)';
                }
                numEl.classList.add('qp-flip');
                prevQueueNum = calledUpTo;
            }

            // === Êõ¥Êñ∞Á≠âÂæÖ/Ë®äÊÅØÈ°ØÁ§∫ ===
            if (isBatch) {
                const totalBatches = Math.ceil(total / 10) || 0;
                const waitingBatches = Math.max(0, totalBatches - calledUpTo);
                if (waitingBatches === 0 && calledUpTo > 0) {
                    // ÊâÄÊúâÊ¢ØÊ¨°Â∑≤Âè´ÂÆå
                    waitWrap.style.display = 'none';
                    divider.style.display = 'none';
                    msgEl.style.display = '';
                    msgEl.textContent = 'Ë´ãËá≥ÈñÄÂè£Ëôï‰æùÂ∫èÂ†±Âà∞';
                } else {
                    waitWrap.style.display = '';
                    divider.style.display = '';
                    msgEl.style.display = 'none';
                    waitEl.textContent = waitingBatches;
                    // Êõ¥Êñ∞ÊñáÂ≠óÁÇ∫ Ê¢ØÊ¨°
                    waitWrap.innerHTML = 'Á≠âÂæÖ <span class="qp-waiting-num" id="qp-waiting">' + waitingBatches + '</span> Ê¢ØÊ¨°';
                }
            } else {
                const waiting = Math.max(0, total - calledUpTo);
                if (waiting === 0 && calledUpTo > 0) {
                    waitWrap.style.display = 'none';
                    divider.style.display = 'none';
                    msgEl.style.display = '';
                    msgEl.textContent = 'Ë´ãËá≥ÈñÄÂè£Ëôï‰æùÂ∫èÂ†±Âà∞';
                } else {
                    waitWrap.style.display = '';
                    divider.style.display = '';
                    msgEl.style.display = 'none';
                    waitWrap.innerHTML = 'Á≠âÂæÖ <span class="qp-waiting-num" id="qp-waiting">' + waiting + '</span> ‰∫∫';
                }
            }
        }
        function getActiveSessionHour(endOffset) {
            const now = new Date();
            const minutes = now.getHours() * 60 + now.getMinutes();
            const sessions = [10, 12, 14, 16, 18];
            for (let s of sessions) {
                let start = s * 60 - 30;
                let end = s * 60 + endOffset;
                if (minutes >= start && minutes < end) return s;
            }
            return 10;
        }
        function updateSchedule() {
            let activeBaseHour = getActiveSessionHour(110);
            let displayHourStr = activeBaseHour.toString().padStart(2, '0');
            const now = new Date();
            const nowTotalMins = now.getHours() * 60 + now.getMinutes();
            let allEvents = [];
            const sessions = [10, 12, 14, 16, 18];
            [0, 1].forEach(dayOffset => {
                sessions.forEach(h => {
                    let baseMins = (dayOffset * 1440) + (h * 60);
                    let hStr = String(h).padStart(2, '0');
                    let sessionTimeline = [
                        { offset: -10, label: `${hStr}:00 Â†¥Ê¨°ÈñãÂßãÂ†±Âà∞`, dur: 10 },
                        { offset: 0, label: "4 Ê®ì-Ëªä‰∏ªË¨õÂ†Ç", dur: 10 },
                        { offset: 10, label: "4 Ê®ì-Ëªä‰∏ªË¨õÂ†Ç", dur: 10 },
                        { offset: 20, label: "4 Ê®ì-Ëªä‰∏ªË¨õÂ†Ç", dur: 10 },
                        { offset: 30, label: "B4-‰∫§‰ªòËªäËºõ", dur: 60 },
                        { offset: 90, label: `${hStr}:00 Â†¥Ê¨°Èõ¢Â†¥‰∏≠`, dur: 20 }
                    ];
                    sessionTimeline.forEach(e => {
                        allEvents.push({
                            start: baseMins + e.offset,
                            end: baseMins + e.offset + e.dur,
                            label: e.label,
                            sessionH: h
                        });
                    });
                });
            });
            let displayEvents = allEvents.filter(e => e.end > nowTotalMins);
            displayEvents.sort((a, b) => a.start - b.start);
            displayEvents = displayEvents.slice(0, 6);
            if (displayEvents.length > 0) {
            }
            let html = '';
            displayEvents.forEach((e, index) => {
                let displayM = e.start % 1440;
                if (displayM < 0) displayM += 1440;
                let hh = Math.floor(displayM / 60);
                let mm = displayM % 60;
                let timeStr = `${String(hh).padStart(2, '0')}:${String(mm).padStart(2, '0')}`;
                let statusClass = "row-pending";
                let statusText = "Êú™ÈñãÂßã";
                let dotColor = "#6B7280";
                if (index === 0) {
                    if (nowTotalMins >= e.start) {
                        statusClass = "row-active";
                        statusText = "ÈÄ≤Ë°å‰∏≠";
                        dotColor = "var(--status-active)";
                    } else {
                        statusClass = "row-upcoming";
                        statusText = "Âç≥Â∞áÈñãÂßã";
                        dotColor = "#F59E0B";
                    }
                } else if (index === 1) {
                    if (nowTotalMins >= displayEvents[0].start) {
                        statusClass = "row-upcoming";
                        statusText = "Âç≥Â∞áÈñãÂßã";
                        dotColor = "#F59E0B";
                    }
                }
                let statusAlign = 'text-align:right;';
                html += `<tr class="${statusClass}"><td>${timeStr}</td><td>${addSpace(e.label)}</td><td style="${statusAlign}"><span class="status-dot" style="background:${dotColor}"></span>${statusText}</td></tr>`;
            });
            if (html !== lastScheduleHTML) {
                document.getElementById('schedule-body').innerHTML = html;
                lastScheduleHTML = html;
            }
        }
        function renderStock() {
            const container = document.getElementById('stock-grid');
            let html = '';
            stockData.forEach(item => {
                let colorClass = 'stock-high';
                let label = 'Â∫´Â≠òÂÖÖË∂≥';
                if (item.count <= 3) { colorClass = 'stock-low'; label = 'ÊúÄÂæåÊê∂Ë≥º'; }
                else if (item.count <= 15) { colorClass = 'stock-med'; label = 'Âç≥Â∞áÂîÆÂÆå'; }
                let priceHtml = '';
                let prices = priceMap[item.name];
                if (prices) {
                    let origStr = prices.orig ? `<span class="price-orig">ÂéüÂÉπ NT$ ${prices.orig}</span>` : '';
                    priceHtml = `<div class="product-price">${origStr}<span class="price-promo">ÂÑ™ÊÉ†ÂÉπ NT$ ${prices.promo}</span></div>`;
                }
                html += `<div class="stock-item"><div class="product-info"><div class="product-name">${addSpace(item.name)}</div>${priceHtml}</div><div class="stock-status"><div class="stock-num ${colorClass}">${item.count}</div><div class="stock-label">${label}</div></div></div>`;
            });
            container.innerHTML = html;
        }
        function openModal() { document.getElementById('modal-overlay').style.display = 'flex'; let stockText = ""; stockData.forEach(item => { stockText += `${item.name}\t${item.count}\n`; }); document.getElementById('paste-area-stock').value = stockText; }
        function closeModal() { document.getElementById('modal-overlay').style.display = 'none'; }
        function saveData() {
            const listText = document.getElementById('paste-area-list').value;
            if (listText.trim()) {
                const lines = listText.split('\n');
                const parsedData = [];
                lines.forEach(line => {
                    const parts = line.split('\t');
                    if (parts.length >= 2) parsedData.push({ time: parts[0].trim(), spot: parts[1].trim(), name: parts[2] ? parts[2].trim() : "" });
                });
                allData = parsedData;
                localStorage.setItem('tesla_full_data_v116', JSON.stringify(allData));
                refreshDisplay();
                // ÂØ´ÂÖ• Firebase
                if (firebaseReady && fbBoardRef) {
                    fbBoardRef.child('deliveryList').set(listText.trim());
                    fbBoardRef.child('lastUpdated').set(Date.now());
                }
            }
            const stockText = document.getElementById('paste-area-stock').value;
            if (stockText.trim()) {
                const lines = stockText.split('\n');
                const newStock = [];
                lines.forEach(line => {
                    const parts = line.split(/\t/);
                    if (parts.length >= 2) { newStock.push({ name: parts[0].trim(), count: parseInt(parts[1]) || 0 }); }
                });
                if (newStock.length > 0) {
                    stockData = newStock;
                    localStorage.setItem('tesla_stock_data_v116', JSON.stringify(stockData));
                    renderStock();
                    // ÂØ´ÂÖ• Firebase
                    if (firebaseReady && fbBoardRef) {
                        fbBoardRef.child('stockList').set(stockText.trim());
                        fbBoardRef.child('lastUpdated').set(Date.now());
                    }
                }
            }
            closeModal();
        }
        function nextAd() {
            if (adTimeout) clearTimeout(adTimeout);
            const videoEl = document.getElementById('ad-video');
            const imgEl = document.getElementById('ad-image');
            const titleEl = document.getElementById('ad-title');
            const descEl = document.getElementById('ad-desc');
            videoEl.onended = null;
            currentAdIndex++;
            if (currentAdIndex >= adSlides.length) currentAdIndex = 0;
            const slide = adSlides[currentAdIndex];
            titleEl.innerText = addSpace(slide.title);
            descEl.innerHTML = slide.desc;
            if (slide.invert) {
                imgEl.classList.add('qr-invert');
            } else {
                imgEl.classList.remove('qr-invert');
            }
            if (slide.type === 'video') {
                imgEl.style.opacity = 0;
                videoEl.src = slide.image;
                videoEl.style.opacity = 1;
                videoEl.play().catch(e => { console.log("Autoplay blocked", e); nextAd(); });
                videoEl.onended = () => { nextAd(); };
            } else {
                videoEl.pause();
                videoEl.style.opacity = 0;
                imgEl.src = slide.image;
                imgEl.style.opacity = 1;
                adTimeout = setTimeout(nextAd, 5000);
            }
        }
        function refreshDisplay() {
            if (allData.length === 0) return;
            const activeSessionHour = getActiveSessionHour(90);
            let activeSessionStr = activeSessionHour.toString().padStart(2, '0') + ":00";
            const tagEl = document.getElementById('current-session-tag');
            const newSessionData = allData.filter(item => {
                let t = item.time.trim();
                if (activeSessionHour === 0 && (t === "0:00" || t === "00:00" || t === "24:00")) return true;
                return t === activeSessionStr || t === activeSessionHour + ":00";
            });
            if (JSON.stringify(newSessionData) !== JSON.stringify(currentSessionData)) {
                currentSessionData = newSessionData; currentPage = 0; renderCurrentPage();
                tagEl.textContent = addSpace(`${activeSessionStr} Â†¥Ê¨°`); tagEl.style.display = 'inline-block';
            }
        }
        function rotatePage() {
            if (currentSessionData.length === 0) return;
            const totalListPages = Math.ceil(currentSessionData.length / ITEMS_PER_PAGE);
            currentPage++;
            if (currentPage > totalListPages) { currentPage = 0; }
            renderCurrentPage();
        }
        function renderCurrentPage() {
            const container = document.getElementById('parking-container');
            const pageIndicator = document.getElementById('page-indicator');
            const titleEl = document.getElementById('list-title-text');
            const localHeader = document.querySelector('.local-header');
            const cardHeader = titleEl ? titleEl.parentElement : null;
            container.innerHTML = '';
            const cleanData = currentSessionData.filter(r => !r.spot.includes("Ëªä‰Ωç"));
            if (cleanData.length === 0) { container.innerHTML = '<div style="padding:40px; color:#666; font-size:24px;">ÁÑ°ÂêçÂñÆË≥áÊñô</div>'; return; }
            const totalListPages = Math.ceil(cleanData.length / ITEMS_PER_PAGE);
            if (currentPage === totalListPages) {
                if (cardHeader) cardHeader.style.display = 'none';
                container.style.padding = '0';
                container.innerHTML = `
<div class="map-container">
<img src="${MAP_IMAGE_URL}" alt="Tesla Delivery Map" class="map-image">
<div class="tech-arrow-group g1 elev-turn"><div class="chevron c1"></div><div class="chevron c2"></div><div class="chevron c3"></div></div>
<div class="tech-arrow-group g2 elev-up"><div class="chevron c1"></div><div class="chevron c2"></div><div class="chevron c3"></div></div>
<div class="tech-arrow-group g1 bot-1"><div class="chevron c1"></div><div class="chevron c2"></div><div class="chevron c3"></div></div>
<div class="tech-arrow-group g1 mid-1"><div class="chevron c1"></div><div class="chevron c2"></div><div class="chevron c3"></div></div>
<div class="tech-arrow-group g1 top-1"><div class="chevron c1"></div><div class="chevron c2"></div><div class="chevron c3"></div></div>
<div class="tech-arrow-group g1 right-1"><div class="chevron c1"></div><div class="chevron c2"></div><div class="chevron c3"></div></div>
<div class="tech-arrow-group g2 bot-2"><div class="chevron c1"></div><div class="chevron c2"></div><div class="chevron c3"></div></div>
<div class="tech-arrow-group g2 mid-2"><div class="chevron c1"></div><div class="chevron c2"></div><div class="chevron c3"></div></div>
<div class="tech-arrow-group g2 top-2"><div class="chevron c1"></div><div class="chevron c2"></div><div class="chevron c3"></div></div>
<div class="tech-arrow-group g2 right-2"><div class="chevron c1"></div><div class="chevron c2"></div><div class="chevron c3"></div></div>
</div>
           `;
                return;
            }
            if (localHeader) localHeader.style.display = 'flex';
            if (cardHeader) cardHeader.style.display = 'flex';
            if (titleEl) titleEl.innerText = "‰∫§ËªäÂ†±Âà∞ÂêçÂñÆ";
            const sessionTag = document.getElementById('current-session-tag');
            if (totalListPages > 0) {
                pageIndicator.style.display = 'inline-block';
                pageIndicator.innerText = `Á¨¨ ${currentPage + 1} / ${totalListPages} È†Å`;
                if (sessionTag) sessionTag.style.display = 'inline-block';
            } else {
                pageIndicator.style.display = 'none';
            }
            container.style.padding = '0 20px 20px 20px';
            const startIdx = currentPage * ITEMS_PER_PAGE;
            const endIdx = startIdx + ITEMS_PER_PAGE;
            const pageData = cleanData.slice(startIdx, endIdx);
            const columns = 3; const perCol = Math.ceil(ITEMS_PER_PAGE / columns);
            for (let i = 0; i < columns; i++) {
                const colStart = i * perCol; const colEnd = colStart + perCol; const chunk = pageData.slice(colStart, colEnd);
                let html = `<div class="parking-column"><table class="p-table"><thead><tr><th>Ëªä‰Ωç</th><th>Ë®ÇË≥º‰∫∫</th></tr></thead><tbody>`;
                chunk.forEach(row => {
                    html += `<tr><td class="cell-spot">${row.spot}</td><td class="cell-name">${addSpace(row.name)}</td></tr>`;
                });
                const remain = perCol - chunk.length; for (let k = 0; k < remain; k++) { html += `<tr><td class="cell-spot">&nbsp;</td><td class="cell-name"></td></tr>`; }
                html += `</tbody></table></div>`; container.innerHTML += html;
            }
        }
        function updateClock() {
            const now = new Date();
            const dateStr = now.toLocaleDateString('en-ZA').replace(/-/g, '/');
            const timeStr = now.toLocaleTimeString('zh-TW', { hour12: false });
            document.getElementById('time-display').innerText = `${dateStr} ${timeStr}`;
        }
    </script>
</body>

</html>
